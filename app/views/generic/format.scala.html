@(message: es.weso.computex.entities.CMessage)(implicit flash:Flash)

@import es.weso.computex.entities._
@import es.weso.computex.entities.CMessage._
@import scala.io.Source._
@import scala.io.Codec._

@main(message) {
	
	@{message.action match {
		case ByURI => uri.defaultUri(message)
		case ByDirectInput => input.defaultInput(message)
		case ByFile => file.defaultFile(message)
	
	}}
	<div id="info_profile">
	<p>Validating with Profile: @message.profile.name
	</div>
	<div id="results_container">    
	    <h2 class="@if(message.status equals Valid){valid}else{invalid}">@Html(message.message.toString)</h2>
	    <p class="backtop"><a href="#frontforms">↑ Top</a></p>
	    <div id="result">
	    	<h3 class="@if(message.hasErrors){invalid}else{valid}">Not valid</h3>
	    <p class="backtop"><a href="#frontforms">↑ Top</a></p>
	    </div>
	    @generic.source(message)
	    <div id="earl">
		    <h3>EARL REPORT</h3>
		    <p><a href="@CEARLReport(message).saveModel" title="Download EARL Report">Download</a> <span class="asterisk">*</span>
		    </p>
		   	<p class="disclaimer"><span class="asterisk">*</span> The generated EARL REPORT will last at least 24h, after that it will be destroy.</p>
		   	<p class="backtop"><a href="#frontforms">↑ Top</a></p>
	   	</div>
	</div>	
}